# 概念配置指南

本文档说明如何维护 `data/concepts.json` 配置文件，建立股票与概念的关联关系。

## 配置文件位置

```
skills/dragon-stock-trading/data/concepts.json
```

---

## 配置文件格式

```json
{
  "概念名称": {
    "core_stocks": ["股票代码1", "股票代码2"],
    "related_stocks": ["股票代码3", "股票代码4"],
    "keywords": ["关键词1", "关键词2"]
  }
}
```

---

## 字段说明

### core_stocks（核心标的）
- 类型: 字符串数组
- 说明: 该概念的核心标的股票代码列表
- 标准: 
  - 业务主营与概念高度相关
  - 市场认可度高
  - 概念逻辑正宗

### related_stocks（相关标的）
- 类型: 字符串数组
- 说明: 与该概念相关但非核心的股票代码
- 标准:
  - 业务有涉及但非主营
  - 市场关注度相对较低
  - 概念关联性较弱

### keywords（关键词）
- 类型: 字符串数组
- 说明: 该概念的关键词，用于搜索和识别
- 用途: 预留字段，未来可用于自动识别

---

## 完整示例

```json
{
  "商业航天": {
    "core_stocks": ["002025", "688122", "002342"],
    "related_stocks": ["300416", "688051", "600391"],
    "keywords": ["火箭", "卫星", "航天器", "商业航天"]
  },
  "稳定币": {
    "core_stocks": ["002104", "002063"],
    "related_stocks": ["300542", "002065"],
    "keywords": ["支付", "数字货币", "区块链", "稳定币"]
  },
  "化工": {
    "core_stocks": ["002165", "002397", "000510"],
    "related_stocks": ["002108", "600299"],
    "keywords": ["化工", "涨价", "原料药"]
  },
  "固态电池": {
    "core_stocks": ["600110", "300014", "002594"],
    "related_stocks": ["002460", "688005"],
    "keywords": ["固态电池", "新能源", "电池技术"]
  },
  "军工": {
    "core_stocks": ["600862", "600967", "000519"],
    "related_stocks": ["600038", "002025"],
    "keywords": ["军工", "国防", "装备"]
  },
  "液冷": {
    "core_stocks": ["300064", "688008"],
    "related_stocks": ["002484", "300223"],
    "keywords": ["液冷", "散热", "数据中心"]
  }
}
```

---

## 维护流程

### 1. 新增概念

```json
{
  "新概念名称": {
    "core_stocks": ["000001"],
    "related_stocks": ["000002"],
    "keywords": ["关键词1", "关键词2"]
  }
}
```

### 2. 添加股票到现有概念

```json
{
  "商业航天": {
    "core_stocks": ["002025", "688122", "002342", "新增代码"],
    "related_stocks": ["300416", "688051"],
    "keywords": ["火箭", "卫星"]
  }
}
```

### 3. 调整股票分类

将相关标的升级为核心标的：

```json
{
  "商业航天": {
    "core_stocks": ["002025", "688122", "002342", "300416"],  // 300416 从 related 移至 core
    "related_stocks": ["688051"],
    "keywords": ["火箭", "卫星"]
  }
}
```

### 4. 删除概念

直接删除该概念的整个JSON对象即可。

---

## 加载配置

修改配置后，需要重新加载到数据库：

```bash
cd scripts
python concept_manager.py
```

执行后会：
1. 清空 `stock_concept` 表中的旧关系
2. 重新加载 `concepts.json` 中的配置
3. 输出加载的关系数量

---

## 概念归属标准

### 核心标的识别标准

1. **业务相关性**
   - 主营业务与概念直接相关
   - 营收占比 > 30%
   - 产品或服务是概念的核心组成部分

2. **市场认可度**
   - 该概念炒作时，股票必定被带动
   - 龙虎榜常出现该股票
   - 市场普遍认为其是该概念龙头

3. **逻辑正宗性**
   - 公司公告明确提及概念相关业务
   - 有实际订单或项目落地
   - 不是蹭热点，有实质性业务

### 相关标的识别标准

1. **业务有涉及但非主营**
   - 有概念相关业务但占比较小
   - 营收占比 < 30%
   - 属于辅助或配套业务

2. **市场关注度较低**
   - 该概念炒作时，可能跟涨但不是首选
   - 龙虎榜出现频率较低
   - 市场认为其是"补涨标的"

3. **逻辑相关但不够硬**
   - 业务关联性需要"绕一圈"才能讲通
   - 缺乏实质性订单或项目
   - 主要靠市场联想

---

## 概念分类建议

### 按题材类型分类

**政策催化型**
- 商业航天、稳定币、数字货币
- 特点: 受政策影响大，爆发力强

**周期涨价型**
- 化工、有色金属、农产品
- 特点: 受供需影响，周期性明显

**技术创新型**
- 固态电池、液冷、AI芯片
- 特点: 依赖技术突破，持续性强

**事件驱动型**
- 军工、国防、地缘政治
- 特点: 受突发事件影响，不可预测

### 按市场热度分类

**主流概念**（常年炒作）
- 新能源、半导体、军工
- 建议: 详细划分核心和相关标的

**热门概念**（阶段性炒作）
- 商业航天、数字货币
- 建议: 及时更新，紧跟市场

**冷门概念**（偶尔炒作）
- 特定行业涨价、小众题材
- 建议: 保持基本配置即可

---

## 数据来源建议

### 官方数据源
1. **东方财富网** - 概念板块分类
   - 网址: http://quote.eastmoney.com/center/gridlist.html
   - 数据质量高，更新及时

2. **同花顺** - 概念题材
   - 网址: http://q.10jqka.com.cn/gn/
   - 分类详细，覆盖全面

3. **公司公告** - 业务确认
   - 巨潮资讯网: http://www.cninfo.com.cn
   - 最权威，但需人工筛选

### 社区数据源
1. **雪球** - 市场共识
   - 网址: https://xueqiu.com
   - 反映市场真实认知

2. **股吧** - 热度判断
   - 东方财富股吧
   - 了解市场情绪

---

## 维护建议

### 定期维护
- **周度**: 检查热门概念的股票归属是否准确
- **月度**: 新增当月新出现的概念
- **季度**: 根据财报调整核心/相关标的分类

### 触发式维护
- **市场热点出现**: 立即补充相关概念和股票
- **龙头股异动**: 检查其概念归属是否完整
- **政策出台**: 更新相关政策概念

### 质量控制
- 每次修改后运行加载脚本验证格式
- 记录修改原因和依据
- 定期与市场主流观点对比校准

---

## 常见问题

### Q: 一只股票可以属于多个概念吗？
A: 可以。在数据库中通过多条记录关联。例如某只股票既属于"商业航天"又属于"军工"。

### Q: 核心标的和相关标的如何选择？
A: 参考"概念归属标准"章节。核心原则是：当该概念炒作时，核心标的必定强于相关标的。

### Q: 如何处理概念重叠？
A: 正常现象。例如"新能源汽车"和"锂电池"有重叠股票，两个概念都应该配置。

### Q: 配置错误会怎样？
A: 不会影响系统运行，但会影响龙头战法的判断准确性。建议修改后及时测试。

### Q: 多久更新一次配置？
A: 建议每周检查一次，出现新热点概念时立即更新。
